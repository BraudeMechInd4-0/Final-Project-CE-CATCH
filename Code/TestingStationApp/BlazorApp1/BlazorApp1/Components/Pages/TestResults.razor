@page "/testResults"
@using System.Collections.Generic
@rendermode InteractiveServer
@using BlazorApp1.Components.Layout;

<PageTitle>Test creation</PageTitle>

<h1>Test results</h1>

<div class="container-fluid">
    <div class="row">
        <div class="col-md-3 overflow-auto" style="height: 86vh; border-right: 2px solid #dee2e6;">
            @foreach (var test in allTests)
            {
                <div class="card mb-3" style="width: 18rem;" @onclick="() => SelectTest(test)">
                    <div class="card-body">
                        <h6 class="card-title">
                            @test.testName
                            @if (test.status.Equals(TestStatus.Completed))
                            {
                                <div>
                                    <span class="dot Complete"></span>Completed
                                </div>
                            }
                            else if (test.status.Equals(TestStatus.InProgress))
                            {
                                <div>
                                    <span class="dot InProgress"></span>In Progress
                                </div>
                            }
                            else
                            {
                                <div>
                                    <span class="dot Failed"></span>Failed
                                </div>
                            }

                        </h6>
                    </div>
                </div>
            }
        </div>

        <div class="col-md-6 overflow-auto" style="height: 86vh;">
            @if (SelectedTest.HasValue)
            {
                <table class="table table-bordered">
                    <tbody>
                        <tr>
                            <td style="width:45%"><strong>Test Name:</strong></td>
                            <td>@SelectedTest.Value.testName</td>
                        </tr>
                        <tr>
                            <td><strong>Test ID:</strong></td>
                            <td>@SelectedTest.Value.testID</td>
                        </tr>
                        <tr>
                            <td><strong>Test Status:</strong></td>
                            <td>@SelectedTest.Value.status</td>
                        </tr>
                        <tr>
                            <td><strong>Number Of Points Per Segment:</strong></td>
                            <td>@SelectedTest.Value.numberOfPointsPerSegment</td>
                        </tr>

                        <tr>
                            <td><strong>Tested Algorithm:</strong></td>
                            <td>@SelectedTest.Value.testedAlgorithm</td>
                        </tr>
                        <tr>
                            <td><strong>Number Of Iterations:</strong></td>
                            <td>@SelectedTest.Value.numberOfIterations</td>
                        </tr>
                        <tr>
                            <td><strong>Tmin Factor:</strong>
                                <Tooltip TooltipText="Constand to calculate the size of Gamma">
                                </Tooltip>
                                </td>
                            <td>@SelectedTest.Value.TminFactor</td>
                        </tr>
                        <tr>
                            <td><strong>Time Interval Size (Sec):</strong></td>
                            <td>@SelectedTest.Value.timeIntervalSizeSec</td>
                        </tr>
                        <tr>
                            <td><strong>TOLdKM:</strong>
                                <Tooltip TooltipText="Tolerance of the distance used when on SBO algorithm as a stopping condition">
                                </Tooltip>
                                </td>
                            <td>@SelectedTest.Value.TOLdKM</td>
                        </tr>
                        <tr>
                            <td><strong>TOLtSec:</strong>
                                <Tooltip TooltipText="Tolerance of the time used when on SBO algorithm as a stopping condition">
                                </Tooltip>
                                </td>
                            <td>@SelectedTest.Value.TOLtSec</td>
                        </tr>
                        <tr>
                            <td><strong>Initial Number Of Points:</strong></td>
                            <td>@SelectedTest.Value.initialNumberOfPoints</td>
                        </tr>
                        <tr>
                            <td><strong>Segment Size (Sec):</strong></td>
                            <td>@SelectedTest.Value.segmentSizeSec</td>
                        </tr>
                        <tr>
                            <td><strong>Format:</strong></td>
                            <td>@SelectedTest.Value.format</td>
                        </tr>
                        <tr>
                            <td><strong>Time Of TCA From Starting Point (Sec):</strong></td>
                            <td>@SelectedTest.Value.timeOfTcaFromStartingPointSec</td>
                        </tr>
                        <tr>
                            <td><strong>Distance Of TCA (KM):</strong></td>
                            <td>@SelectedTest.Value.distanceOfTcaKM</td>
                        </tr>
                        <tr>
                            <td><strong>Number Of Points The Algorithm Used:</strong></td>
                            <td>@SelectedTest.Value.numberOfPointsTheAlgUsed</td>
                        </tr>
                        <tr>
                            <td><strong>Average Run Time (Micro):</strong></td>
                            <td>@SelectedTest.Value.avgRunTimeMicro</td>
                        </tr>
                        <tr>
                            <td><strong>Minimum Run Time (Micro):</strong></td>
                            <td>@SelectedTest.Value.minRunTimeMicro</td>
                        </tr>
                        @if (@SelectedTest.Value.testedAlgorithm == Algorithm.CATCH)
                        {
                            <tr>
                                <td><strong>Catch Polynomial Degree:</strong></td>
                                <td>@SelectedTest.Value.catchPolynomialDegree</td>
                            </tr>
                        }
                    </tbody>
                </table>
            }
        </div>
    </div>
</div>